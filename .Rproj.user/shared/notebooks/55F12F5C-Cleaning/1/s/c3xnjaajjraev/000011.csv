"0","# Load necessary libraries"
"0","library(dplyr)"
"0",""
"0","# Assuming 'crime' is your data frame and already loaded"
"0","# Calculate frequencies of each crime description"
"0","crime_frequencies <- table(crime$Crm.Cd.Desc)"
"0",""
"0","# Create a replacement vector where crime descriptions with less than 50 occurrences are labeled 'Other Crimes'"
"0","crime_replacement <- ifelse(crime_frequencies < 50, ""Other Crimes"", names(crime_frequencies))"
"0",""
"0","# Map the original crime descriptions to the new labels"
"0","crime$Crm.Cd.Desc <- factor(crime_replacement[crime$Crm.Cd.Desc])"
"0",""
"0","# Now you can proceed with your data splitting and modeling"
"0","set.seed(123)"
"0","training_indices <- createDataPartition(crime$Crm.Cd.Desc, p = 0.7, list = FALSE)"
"0","train_data <- crime[training_indices, ]"
"0","test_data <- crime[-training_indices, ]"
"0",""
"0","# Build the decision tree model"
"0","tree_model <- rpart(Crm.Cd.Desc ~ Vict.Age + Vict.Sex, data = train_data, method = ""class"")"
"0",""
"0","# Plotting the tree"
"0","rpart.plot(tree_model, box.palette=""Blues"")"
