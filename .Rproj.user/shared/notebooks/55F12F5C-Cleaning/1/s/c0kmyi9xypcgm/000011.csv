"0","# Load necessary libraries"
"0","library(dplyr)"
"0","library(rpart)"
"0","library(rpart.plot)"
"0",""
"0","# Ensure your crime dataset is loaded into `crime_data`"
"0","# Suppose `crime_data` is already loaded and preprocessed"
"0",""
"0","# Subset data for specific types of crimes"
"0","focused_crimes <- crime %>%"
"0","  filter(Crm.Cd.Desc %in% c(""THEFT"", ""BURGLARY""))  # Specify the crimes you are interested in"
"0",""
"0","# Ensure that 'Crm.Cd.Desc' and 'Vict.Sex' are factors"
"0","focused_crimes$Crm.Cd.Desc <- as.factor(focused_crimes$Crm.Cd.Desc)"
"0","focused_crimes$Vict.Sex <- factor(focused_crimes$Vict.Sex)"
"0",""
"0","# Split the data into training and testing sets"
"0","set.seed(123)  # For reproducibility"
"0","training_indices <- createDataPartition(focused_crimes$Crm.Cd.Desc, p = 0.7, list = FALSE)"
"2","Warning: Some classes have no records ( ARSON, ASSAULT WITH DEADLY WEAPON ON POLICE OFFICER, ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT, ATTEMPTED ROBBERY, BATTERY - SIMPLE ASSAULT, BATTERY ON A FIREFIGHTER, BATTERY POLICE (SIMPLE), BATTERY WITH SEXUAL CONTACT, BEASTIALITY, CRIME AGAINST NATURE SEXUAL ASSLT WITH ANIM, BIKE - STOLEN, BOMB SCARE, BRANDISH WEAPON, BUNCO, ATTEMPT, BUNCO, GRAND THEFT, BUNCO, PETTY THEFT, BURGLARY FROM VEHICLE, BURGLARY FROM VEHICLE, ATTEMPTED, BURGLARY, ATTEMPTED, CHILD ABANDONMENT, CHILD ABUSE (PHYSICAL) - AGGRAVATED ASSAULT, CHILD ABUSE (PHYSICAL) - SIMPLE ASSAULT, CHILD ANNOYING (17YRS & UNDER), CHILD NEGLECT (SEE 300 W.I.C.), CHILD PORNOGRAPHY, CHILD STEALING, CONSPIRACY, CONTEMPT OF COURT, CONTRIBUTING, COUNTERFEIT, CREDIT CARDS, FRAUD USE ($950 & UNDER, CRIMINAL HOMICIDE, CRIMINAL THREATS - NO WEAPON DISPLAYED, CRM AGNST CHLD (13 OR UNDER) (14-15 & SUSP 10 YRS OLDER), CRUELTY TO ANIMALS, DEFRAUDING INNKEEPER/THEFT OF SERVICES, $950 & UNDER, DEFRAUDING INNKEEPER/THEFT OF SERVICES, OVER $950.01, DISCHARGE FIREARMS/SHOTS FIRED, DISHONEST EMPLOYEE - PETTY THEFT, DISRUPT SCHOOL, DISTURBING THE PEACE, DOCUMENT FORGERY / STOLEN FELONY, DRIVING WITHOUT OWNER CONSENT (DWOC), DRUNK ROLL, EMBEZZLEMENT, GRAND THEFT ($950.01 & OVER), EMBEZZLEMENT, PETTY THEFT ($950 & UNDER), EXTORTION, FAILURE TO YIELD, FALSE IMPRISONMENT, FALSE POLICE REPORT, FIREARMS EMERGENCY PROTECTIVE ORDER (FIREARMS EPO), GRAND THEFT / INSURANCE FRAUD, HUMAN TRAFFICKING - COMMERCIAL SEX ACTS, HUMAN TRAFFICKING - INVOLUNTARY SERVITUDE, INCEST (SEXUAL ACTS BETWEEN BLOOD RELATIVES), INCITING A RIOT, INDECENT EXPOSURE, INTIMATE PARTNER - AGGRAVATED ASSAULT, INTIMATE PARTNER - SIMPLE ASSAULT, KIDNAPPING, KIDNAPPING - GRAND ATTEMPT, LETTERS, LEWD  -  TELEPHONE CALLS, LEWD, LEWD CONDUCT, LEWD/LASCIVIOUS ACTS WITH CHILD, LYNCHING, LYNCHING - ATTEMPTED, MANSLAUGHTER, NEGLIGENT, ORAL COPULATION, OTHER ASSAULT, OTHER MISCELLANEOUS CRIME, PANDERING, PEEPING TOM, PICKPOCKET, PICKPOCKET, ATTEMPT, PIMPING, PROWLER, PURSE SNATCHING, PURSE SNATCHING - ATTEMPT, RAPE, ATTEMPTED, RAPE, FORCIBLE, RECKLESS DRIVING, REPLICA FIREARMS(SALE,DISPLAY,MANUFACTURE OR DISTRIBUTE), RESISTING ARREST, ROBBERY, SEX OFFENDER REGISTRANT OUT OF COMPLIANCE, SEX,UNLAWFUL(INC MUTUAL CONSENT, PENETRATION W/ FRGN OBJ, SEXUAL PENETRATION W/FOREIGN OBJECT, SHOPLIFTING-GRAND THEFT ($950.01 & OVER), SHOPLIFTING - ATTEMPT, SHOPLIFTING - PETTY THEFT ($950 & UNDER), SHOTS FIRED AT INHABITED DWELLING, SHOTS FIRED AT MOVING VEHICLE, TRAIN OR AIRCRAFT, SODOMY/SEXUAL CONTACT B/W PENIS OF ONE PERS TO ANUS OTH, STALKING, TELEPHONE PROPERTY - DAMAGE, THEFT-GRAND ($950.01 & OVER)EXCPT,GUNS,FOWL,LIVESTK,PROD, THEFT FROM MOTOR VEHICLE - ATTEMPT, THEFT FROM MOTOR VEHICLE - GRAND ($950.01 AND OVER), THEFT FROM MOTOR VEHICLE - PETTY ($950 & UNDER), THEFT FROM PERSON - ATTEMPT, THEFT OF IDENTITY, THEFT PLAIN - ATTEMPT, THEFT PLAIN - PETTY ($950 & UNDER), THEFT, COIN MACHINE - ATTEMPT, THEFT, COIN MACHINE - GRAND ($950.01 & OVER), THEFT, COIN MACHINE - PETTY ($950 & UNDER), THEFT, PERSON, THREATENING PHONE CALLS/LETTERS, THROWING OBJECT AT MOVING VEHICLE, TILL TAP - PETTY ($950 & UNDER), TRAIN WRECKING, TRESPASSING, UNAUTHORIZED COMPUTER ACCESS, VANDALISM - FELONY ($400 & OVER, ALL CHURCH VANDALISMS), VANDALISM - MISDEAMEANOR ($399 OR UNDER), VEHICLE - ATTEMPT STOLEN, VEHICLE - STOLEN, VEHICLE, STOLEN - OTHER (MOTORIZED SCOOTERS, BIKES, ETC), VIOLATION OF COURT ORDER, VIOLATION OF RESTRAINING ORDER, VIOLATION OF TEMPORARY RESTRAINING ORDER, WEAPONS POSSESSION/BOMBING ) and these will be ignored"
"0","train_data <- focused_crimes[training_indices, ]"
"0","test_data <- focused_crimes[-training_indices, ]"
"0",""
"0","# Building the decision tree model"
"0","tree_model <- rpart(Crm.Cd.Desc ~ Vict.Age + Vict.Sex, data = train_data, method = ""class"")"
"0",""
"0","# Plotting the tree with a recognized color palette"
"0","rpart.plot(tree_model, box.palette=""Blues"")"
